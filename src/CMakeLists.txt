set(DIRS streams streamanalyzer archivereader xsd dummyindexer xmlindexer)

if (CLucene_FOUND)
  set(DIRS ${DIRS} luceneindexer)
endif (CLucene_FOUND)

if (HyperEstraier_FOUND)
  set(DIRS ${DIRS} estraierindexer)
  message("** HyperEstraier support is experimental. **")
endif (HyperEstraier_FOUND)

if (SQLite_FOUND)
  set(DIRS ${DIRS} sqliteindexer)
  message("** SQLite support is experimental. **")
endif (SQLite_FOUND)

if (CLucene_FOUND OR HyperEstraier_FOUND OR SQLite_FOUND)
  set(DIRS ${DIRS} indexertests combinedindexer)
  if(NOT WIN32)
     set(DIRS ${DIRS} daemon htmlgui)
  endif(NOT WIN32)
  if (QT4_FOUND AND ENABLE_DBUS)
     set(DIRS ${DIRS} searchclient)
  endif (QT4_FOUND AND ENABLE_DBUS)
  message("** Index libraries were found. strigidaemon will be built.")
else (CLucene_FOUND OR HyperEstraier_FOUND OR SQLite_FOUND)
  message("** No index libraries were found. strigidaemon will not be built.")
  message("** It is recommended to install CLucene >= 0.9.16.")
  message("** You will still be able to use deepfind, deepgrep and xmlindexer.")
endif (CLucene_FOUND OR HyperEstraier_FOUND OR SQLite_FOUND)

if (QT4_FOUND)
  set(DIRS ${DIRS} archiveengine qclient)
endif (QT4_FOUND)

SUBDIRS(${DIRS})
